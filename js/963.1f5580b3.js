"use strict";(self["webpackChunksongs"]=self["webpackChunksongs"]||[]).push([[963],{5170:function(n,l,a){a.d(l,{Z:function(){return h}});var i=a(114),t=(a(3450),a(7724),a(4704)),e=(a(4745),a(6770)),o=(a(2607),a(7658),a(440)),s=a(8643),u=a(4592),d=a(4367),r=a(4804),c=a(708),v=a(9226),m=a(9644);const w=["title"],g=["onClick"],_={class:"operate-back"};var p=(0,o.aZ)({__name:"songs-table",props:{songs:null,count:null,showTitle:{type:Boolean,default:!0},showSingers:{type:Boolean,default:!0},showAlbum:{type:Boolean,default:!0},showOperation:{type:Boolean,default:!0}},setup(n){const l=n,a=(0,r.tv)(),p=(0,m.a2)(),f=(0,m.w9)();function b(n){console.log(123),f.play(n),p.push_playList(n)}function h(n){p.push_playList(n),(0,c.y)({message:`${n.name} 已添加到播放列表`,type:"success",duration:800})}return(r,c)=>{const m=i.$Y,p=e.Z,f=t.gn,y=i.eI;return(0,o.wg)(),(0,o.j4)(y,{data:l.songs,"row-style":{height:"50px"},lazy:!0,onRowClick:b,"row-class-name":"table-row","header-row-class-name":"table-header"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{type:"index",label:(n.count||n.songs.length)+"首",width:"80"},null,8,["label"]),n.showTitle?((0,o.wg)(),(0,o.j4)(m,{key:0,label:"歌曲"},{default:(0,o.w5)((n=>[(0,o._)("span",{title:n.row.name},(0,s.zw)(n.row.name),9,w),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.row.alias,(n=>((0,o.wg)(),(0,o.iD)("span",{key:n}," ("+(0,s.zw)(n)+") ",1)))),128))])),_:1})):(0,o.kq)("",!0),n.showSingers?((0,o.wg)(),(0,o.j4)(m,{key:1,label:"歌手"},{default:(0,o.w5)((n=>[(0,o.Wm)(v.Z,{singers:n.row.singers.singers},null,8,["singers"])])),_:1})):(0,o.kq)("",!0),n.showAlbum?((0,o.wg)(),(0,o.j4)(m,{key:2,label:"专辑"},{default:(0,o.w5)((n=>[(0,o._)("span",{class:"album",onClick:(0,u.iM)((l=>(0,d.SU)(a).push(`/album/${n.row.album.id}`)),["stop"])},(0,s.zw)(n.row.album.name),9,g)])),_:1})):(0,o.kq)("",!0),n.showOperation?((0,o.wg)(),(0,o.j4)(m,{key:3},{header:(0,o.w5)((()=>[])),default:(0,o.w5)((n=>[(0,o._)("div",_,[(0,o.Wm)(f,{title:"添加到播放列表",size:"25",class:"operate",onClick:(0,u.iM)((l=>h(n.row)),["stop"])},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"add2List"})])),_:2},1032,["onClick"]),(0,o.WI)(r.$slots,"operate")])])),_:3})):(0,o.kq)("",!0)])),_:3},8,["data"])}}}),f=a(465);const b=(0,f.Z)(p,[["__scopeId","data-v-0f0c3d6e"]]);var h=b},3098:function(n,l,a){a.r(l),a.d(l,{default:function(){return gn}});var i=a(6269),t=(a(3450),a(5658),a(3645)),e=(a(8075),a(4704)),o=(a(4745),a(6174)),s=(a(2373),a(137),a(7755)),u=(a(6886),a(9894)),d=(a(1262),a(440)),r=a(8643),c=a(4367),v=a(4804),m=a(9644),w=a(4059);const g=n=>((0,d.dD)("data-v-68bae831"),n=n(),(0,d.Cn)(),n),_={class:"item"},p=g((()=>(0,d._)("span",null,"简介:",-1))),f={class:"item"};var b=(0,d.aZ)({__name:"brief",props:{introduction:null},setup(n){const l=n;return(a,i)=>{var t,e;return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("div",_,[p,(0,d._)("span",null,(0,r.zw)((null===(t=n.introduction)||void 0===t?void 0:t.briefIntroduction)||"无"),1)]),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(null===(e=l.introduction)||void 0===e?void 0:e.item.slice(0,2),(n=>((0,d.wg)(),(0,d.iD)("div",f,[(0,d._)("span",null,(0,r.zw)(n.title)+":",1),(0,d._)("span",null,(0,r.zw)(n.content),1)])))),256))],64)}}}),h=a(465);const y=(0,h.Z)(b,[["__scopeId","data-v-68bae831"]]);var k=y,z=a(2653);a(5277);const D=n=>((0,d.dD)("data-v-495fa6c7"),n=n(),(0,d.Cn)(),n),W={class:"back"},S=D((()=>(0,d._)("p",null,"简介:",-1))),V={class:"back"};var Z=(0,d.aZ)({__name:"detailed",props:{introduction:null},setup(n){const l=window.innerHeight/2;return(a,i)=>{const t=z.Mr;return(0,d.wg)(),(0,d.j4)(t,{height:l},{default:(0,d.w5)((()=>{var l,a;return[(0,d._)("div",W,[S,(0,d._)("span",null,(0,r.zw)(null===(l=n.introduction)||void 0===l?void 0:l.briefIntroduction),1)]),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(null===(a=n.introduction)||void 0===a?void 0:a.item,(n=>((0,d.wg)(),(0,d.iD)("div",V,[(0,d._)("p",null,(0,r.zw)(n.title),1),(0,d._)("span",null,(0,r.zw)(n.content),1)])))),256))]})),_:1})}}});const C=(0,h.Z)(Z,[["__scopeId","data-v-495fa6c7"]]);var U=C,j=a(2603);a(4350),a(7658);const H=["onClick"];var O=(0,d.aZ)({__name:"singers-similar",props:{similarSingers:null},setup(n){const l=(0,v.tv)(),a=window.innerHeight/2,i=n=>{l.push(`/singer/${n}`)};return(l,t)=>{const e=u.F8,o=j.Q2,s=z.Mr;return(0,d.wg)(),(0,d.j4)(s,{height:a},{default:(0,d.w5)((()=>[(0,d.Wm)(o,{wrap:"",size:"large",alignment:"flex-start"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(n.similarSingers,(n=>{var l;return(0,d.wg)(),(0,d.iD)("div",{class:"back",onClick:l=>i(n.id)},[(0,d.Wm)(e,{class:"img",src:null===(l=n.cover)||void 0===l?void 0:l.url,fit:"cover",loading:"lazy"},null,8,["src"]),(0,d._)("span",null,(0,r.zw)(n.name),1)],8,H)})),256))])),_:1})])),_:1})}}});const I=(0,h.Z)(O,[["__scopeId","data-v-b3e92a6a"]]);var q=I,Y=a(5170),x=a(8),A=a(4592),M=a(3624),K=function(n,l,a,i){function t(n){return n instanceof a?n:new a((function(l){l(n)}))}return new(a||(a=Promise))((function(a,e){function o(n){try{u(i.next(n))}catch(l){e(l)}}function s(n){try{u(i["throw"](n))}catch(l){e(l)}}function u(n){n.done?a(n.value):t(n.value).then(o,s)}u((i=i.apply(n,l||[])).next())}))};const B={class:"cover"},F={class:"data"},$={class:"title _ellipsis"},T={class:"info"};var L=(0,d.aZ)({__name:"mv",props:{data:null},setup(n){const l=n;(0,A.sj)((n=>({"8cac4b14":(0,c.SU)(a)})));(0,d.Fl)((()=>{var n,a,i,t,e,o;return"number"===typeof(null===(a=null===(n=l.data)||void 0===n?void 0:n.cover)||void 0===a?void 0:a.size)?null===(t=null===(i=l.data)||void 0===i?void 0:i.cover)||void 0===t?void 0:t.size:null===(o=null===(e=l.data)||void 0===e?void 0:e.cover)||void 0===o?void 0:o.size.w}));const a=(0,d.Fl)((()=>{var n,a,i,t,e,o;return"number"===typeof(null===(a=null===(n=l.data)||void 0===n?void 0:n.cover)||void 0===a?void 0:a.size)?null===(t=null===(i=l.data)||void 0===i?void 0:i.cover)||void 0===t?void 0:t.size:null===(o=null===(e=l.data)||void 0===e?void 0:e.cover)||void 0===o?void 0:o.size.h})),i=()=>K(this,void 0,void 0,(function*(){window.open(yield w.MV.getUrl(l.data.id),"_blank")}));return(l,a)=>{var t,o,s,v,m,w,g;const _=u.F8,p=(0,d.up)("VideoPlay"),f=e.gn;return(0,d.wg)(),(0,d.iD)("div",{class:"card",onClick:i},[(0,d._)("div",B,[(0,d.Wm)(_,{class:"img",src:null===(o=null===(t=n.data)||void 0===t?void 0:t.cover)||void 0===o?void 0:o.url,fit:"fill",loading:"lazy"},null,8,["src"]),(0,d._)("div",F,[(0,d._)("div",null,[(0,d._)("span",null,[(0,d.Wm)(f,null,{default:(0,d.w5)((()=>[(0,d.Wm)(p)])),_:1}),(0,d.Uk)(" "+(0,r.zw)(null===(s=n.data)||void 0===s?void 0:s.playCount),1)]),(0,d._)("span",null,(0,r.zw)((0,c.SU)(M.rw)(null===(v=n.data)||void 0===v?void 0:v.duration)),1)])])]),(0,d._)("div",$,(0,r.zw)(null===(m=n.data)||void 0===m?void 0:m.name),1),(0,d._)("div",T,[(0,d._)("span",null,(0,r.zw)(null===(w=n.data)||void 0===w?void 0:w.singer.name),1),(0,d._)("span",null,(0,r.zw)(null===(g=n.data)||void 0===g?void 0:g.publishTime),1)])])}}});const P=(0,h.Z)(L,[["__scopeId","data-v-644c66e1"]]);var R=P,Q=(0,d.aZ)({__name:"mv-group",props:{data:null},setup(n){return(l,a)=>{const i=j.Q2;return(0,d.wg)(),(0,d.j4)(i,{size:30,wrap:"",alignment:"flex-start"},{default:(0,d.w5)((()=>[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(n.data,(n=>((0,d.wg)(),(0,d.j4)(R,{key:n.id,data:n},null,8,["data"])))),128))])),_:1})}}});const N=Q;var E=N,G=function(n,l,a,i){function t(n){return n instanceof a?n:new a((function(l){l(n)}))}return new(a||(a=Promise))((function(a,e){function o(n){try{u(i.next(n))}catch(l){e(l)}}function s(n){try{u(i["throw"](n))}catch(l){e(l)}}function u(n){n.done?a(n.value):t(n.value).then(o,s)}u((i=i.apply(n,l||[])).next())}))};const J=n=>((0,d.dD)("data-v-677d316d"),n=n(),(0,d.Cn)(),n),X={class:"back"},nn={class:"data"},ln={class:"head"},an={class:"message"},tn={class:"name"},en={key:0,class:"signature"},on={class:"content"},sn={class:"tabs-tittle"},un={class:"tabs-tittle"},dn={class:"tabs-tittle"},rn={class:"tabs-tittle"},cn=J((()=>(0,d._)("span",{class:"tabs-tittle"}," 动态 ",-1))),vn={class:"other"};var mn=(0,d.aZ)({__name:"detailed",setup(n){const l=(0,v.tv)(),a=((0,m.a2)(),Number(l.currentRoute.value.params.id)),g=(0,c.qj)({});(0,d.bv)((()=>G(this,void 0,void 0,(function*(){g.singerData=yield w.VO.getDetail(a),g.similarSingers=(yield w.VO.getSimilar(a))||[],g.hotSongs=(yield w.VO.getHotSongs(a))||[],g.allSong=(yield w.VO.getAllSongs(a))||[],g.albums=(yield w.VO.getAlbums(a))||[],g.mv=(yield w.VO.getMV(a))||[]}))));const _=(0,c.iH)("mv");function p(){}const f=(0,c.qj)({introduction:!1,similarSingers:!1});function b(n){f[n]=!f[n]}function h(){return G(this,void 0,void 0,(function*(){switch(_.value){case"all":g.allSong=g.allSong.concat(yield w.VO.getAllSongs(a,"hot",g.allSong.length));break;case"album":g.albums=g.albums.concat(yield w.VO.getAlbums(a,g.albums.length));break;case"mv":g.mv=g.mv.concat(yield w.VO.getMV(a,g.mv.length));break}}))}return(n,l)=>{var a,c,v,m,w,y,z;const D=u.F8,W=s.mi,S=o.p8,V=o.Ub,Z=(0,d.up)("ArrowRightBold"),C=e.gn,j=t.d0,H=i.n;return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("div",X,[(0,d._)("div",nn,[(0,d._)("div",ln,[(0,d.Wm)(D,{class:"cover",src:null===(c=null===(a=g.singerData)||void 0===a?void 0:a.info.cover)||void 0===c?void 0:c.url,fit:"cover"},null,8,["src"]),(0,d._)("div",an,[(0,d._)("div",tn,[(0,d._)("span",null,(0,r.zw)(null===(v=g.singerData)||void 0===v?void 0:v.info.name),1),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(null===(m=g.singerData)||void 0===m?void 0:m.info.alias,(n=>((0,d.wg)(),(0,d.iD)("i",null,(0,r.zw)(n),1)))),256))]),(null===(w=g.singerData)||void 0===w?void 0:w.info.signature)?((0,d.wg)(),(0,d.iD)("div",en,[(0,d._)("span",null,"个性介绍："+(0,r.zw)(null===(y=g.singerData)||void 0===y?void 0:y.info.signature),1)])):(0,d.kq)("",!0),(0,d._)("div",null,[(0,d.Wm)(W,null,{default:(0,d.w5)((()=>[(0,d.Uk)("关注")])),_:1})])])]),(0,d._)("div",on,[(0,d.Wm)(V,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=n=>_.value=n),stretch:!0,onTabChange:p},{default:(0,d.w5)((()=>[(0,d.Wm)(S,{name:"hot"},{label:(0,d.w5)((()=>{var n;return[(0,d._)("span",sn,[(0,d.Uk)(" 热门歌曲 "),(0,d._)("i",null,(0,r.zw)(null===(n=g.hotSongs)||void 0===n?void 0:n.length),1)])]})),default:(0,d.w5)((()=>[g.hotSongs?((0,d.wg)(),(0,d.j4)(Y.Z,{key:0,songs:g.hotSongs},null,8,["songs"])):(0,d.kq)("",!0)])),_:1}),(0,d.Wm)(S,{name:"all"},{label:(0,d.w5)((()=>{var n;return[(0,d._)("span",un,[(0,d.Uk)(" 歌曲 "),(0,d._)("i",null,(0,r.zw)(null===(n=g.singerData)||void 0===n?void 0:n.info.count.song),1)])]})),default:(0,d.w5)((()=>[g.allSong&&"all"===_.value?(0,d.wy)(((0,d.wg)(),(0,d.j4)(Y.Z,{key:0,songs:g.allSong,"infinite-scroll-immediate":!1,"infinite-scroll-delay":1e3},null,8,["songs"])),[[H,h]]):(0,d.kq)("",!0)])),_:1}),(0,d.Wm)(S,{name:"album"},{label:(0,d.w5)((()=>{var n;return[(0,d._)("span",dn,[(0,d.Uk)(" 专辑 "),(0,d._)("i",null,(0,r.zw)(null===(n=g.singerData)||void 0===n?void 0:n.info.count.album),1)])]})),default:(0,d.w5)((()=>[(0,d.wy)((0,d.Wm)(x.Z,{style:{margin:"5% 0 0 5%"},data:g.albums,size:60,"infinite-scroll-immediate":!1,"infinite-scroll-delay":1e3},null,8,["data"]),[[H,h]])])),_:1}),(0,d.Wm)(S,{name:"mv"},{label:(0,d.w5)((()=>{var n;return[(0,d._)("span",rn,[(0,d.Uk)(" 视频 "),(0,d._)("i",null,(0,r.zw)(null===(n=g.singerData)||void 0===n?void 0:n.info.count.mv),1)])]})),default:(0,d.w5)((()=>[(0,d.wy)((0,d.Wm)(E,{data:g.mv,"infinite-scroll-immediate":!1,"infinite-scroll-delay":1e3,style:{margin:"2%"}},null,8,["data"]),[[H,h]])])),_:1}),(0,d.Wm)(S,{name:"dynamic"},{label:(0,d.w5)((()=>[cn])),_:1})])),_:1},8,["modelValue"])])]),(0,d._)("div",vn,[(0,d._)("div",null,[(0,d._)("span",{onClick:l[1]||(l[1]=n=>b("introduction"))},[(0,d.Uk)(" 歌手信息 "),(0,d.Wm)(C,null,{default:(0,d.w5)((()=>[(0,d.Wm)(Z)])),_:1})]),(0,d.Wm)(k,{introduction:null===(z=g.singerData)||void 0===z?void 0:z.introduction},null,8,["introduction"])]),(0,d._)("div",null,[(0,d._)("span",{onClick:l[2]||(l[2]=n=>b("similarSingers"))},[(0,d.Uk)(" 相似歌手 "),(0,d.Wm)(C,null,{default:(0,d.w5)((()=>[(0,d.Wm)(Z)])),_:1})])])])]),(0,d.Wm)(j,{modelValue:f.introduction,"onUpdate:modelValue":l[3]||(l[3]=n=>f.introduction=n),title:"歌手信息",width:"50%",center:""},{default:(0,d.w5)((()=>{var n;return[(0,d.Wm)(U,{introduction:null===(n=g.singerData)||void 0===n?void 0:n.introduction},null,8,["introduction"])]})),_:1},8,["modelValue"]),(0,d.Wm)(j,{modelValue:f.similarSingers,"onUpdate:modelValue":l[4]||(l[4]=n=>f.similarSingers=n),title:"相似歌手",width:"50%",center:""},{default:(0,d.w5)((()=>[(0,d.Wm)(q,{"similar-singers":g.similarSingers},null,8,["similar-singers"])])),_:1},8,["modelValue"])],64)}}});const wn=(0,h.Z)(mn,[["__scopeId","data-v-677d316d"]]);var gn=wn}}]);