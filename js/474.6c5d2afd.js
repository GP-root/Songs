"use strict";(self["webpackChunksongs"]=self["webpackChunksongs"]||[]).push([[474],{9260:function(n,t,e){e.d(t,{$2:function(){return r},BG:function(){return c},_n:function(){return f},l7:function(){return w},qh:function(){return d},yu:function(){return m}});e(7658);var a=e(9644),o=e(1809),s=e(708),l=function(n,t,e,a){function o(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,s){function l(n){try{i(a.next(n))}catch(t){s(t)}}function u(n){try{i(a["throw"](n))}catch(t){s(t)}}function i(n){n.done?e(n.value):o(n.value).then(l,u)}i((a=a.apply(n,t||[])).next())}))};const u=(0,a.a2)(),i=(0,a.w9)();function r(n,t){const e=u.push_playList(n);t&&(0,s.y)({message:e?`[ ${n.song.name} ]成功添加到播放列表`:`播放列表中已存在[ ${n.song.name} ]`,type:e?"success":"warning"})}function c(n,t,e){return l(this,void 0,void 0,(function*(){d(t&&"歌单"===e?yield(0,o.LH)(t):n)}))}function d(n){u.update_playList((t=>{n.forEach((n=>{t.push(n)}))})),i.update_song(n[0]),(0,s.y)({message:"已添加到播放列表"})}function f(n){i.update_song(n),r(n,!1)}function w(n,t,e){return l(this,void 0,void 0,(function*(){if(console.log(t,e),t&&"歌单"===e){let e=[];n.forEach((n=>{e.push(n.song.id)})),(yield(0,o.s9)("del",t,e))&&(0,s.y)({message:"成功删除,请刷新页面"})}}))}function m(n,t){return l(this,void 0,void 0,(function*(){if(n&&"歌单"===t){let t=[];(yield(0,o.LH)(n)).forEach((n=>{t.push(n.song.id)})),(yield(0,o.s9)("del",n,t))&&(0,s.y)({message:"成功删除,请刷新页面"})}}))}},2748:function(n,t,e){e.d(t,{Z:function(){return y}});var a=e(114),o=(e(3450),e(7724),e(4704)),s=(e(4745),e(6770)),l=e(7755),u=(e(6886),e(2607),e(7658),e(440)),i=e(8643),r=e(4367),c=e(4592),d=e(4804),f=e(9260),w=e(9403);const m=["onClick"],p={class:"operate-back"};var g=(0,u.aZ)({__name:"song-table-common",props:{songs:{type:Array,required:!0},songsCount:{type:Number,default:0},tableWidth:{type:String,default:"100%"}},setup(n){const t=n,e=(0,d.tv)(),g=(0,u.Fl)((()=>t.songs?t.songs.length:0));return(d,h)=>{const v=a.$Y,y=l.mi,_=s.Z,b=o.gn,W=a.eI;return(0,u.wg)(),(0,u.j4)(W,{data:t.songs,style:(0,i.j5)({width:t.tableWidth}),"row-style":{height:"50px"},lazy:!1,onRowClick:(0,r.SU)(f._n),"row-class-name":"table-row","header-row-class-name":"table-header"},{default:(0,u.w5)((()=>[(0,u.Wm)(v,{type:"index",label:(0,r.SU)(g)+"首",width:"80"},null,8,["label"]),(0,u.Wm)(v,{label:"歌曲标题"},{default:(0,u.w5)((n=>[(0,u._)("span",null,(0,i.zw)(n.row.song.name),1),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(n.row.song.alia,(n=>((0,u.wg)(),(0,u.iD)("span",null," ("+(0,i.zw)(n)+") ",1)))),256))])),_:1}),(0,u.Wm)(v,{label:"歌手"},{default:(0,u.w5)((n=>[(0,u.Wm)(w.Z,{artists:n.row.artists.artists},null,8,["artists"])])),_:1}),(0,u.Wm)(v,{label:"专辑"},{default:(0,u.w5)((n=>[(0,u._)("span",{class:"album",onClick:(0,c.iM)((t=>(0,r.SU)(e).push(`/album/${n.row.album.id}`)),["stop"])},(0,i.zw)(n.row.album.name),9,m)])),_:1}),(0,u.Wm)(v,null,{header:(0,u.w5)((()=>[(0,u.WI)(d.$slots,"header",{},(()=>[(0,u.Wm)(y,{size:"small",onClick:h[0]||(h[0]=(0,c.iM)((t=>(0,r.SU)(f.BG)(n.songs)),["stop"]))},{default:(0,u.w5)((()=>[(0,u.Uk)("播放全部")])),_:1})]))])),default:(0,u.w5)((n=>[(0,u._)("div",p,[(0,u.Wm)(b,{title:"添加到播放列表",size:"25",class:"operate",onClick:(0,c.iM)((t=>(0,r.SU)(f.$2)(n.row,!0)),["stop"])},{default:(0,u.w5)((()=>[(0,u.Wm)(_,{name:"add2List"})])),_:2},1032,["onClick"]),(0,u.WI)(d.$slots,"operate")])])),_:3})])),_:3},8,["data","style","onRowClick"])}}}),h=e(465);const v=(0,h.Z)(g,[["__scopeId","data-v-4642ac48"]]);var y=v},2474:function(n,t,e){e.r(t),e.d(t,{default:function(){return p}});var a=e(6174),o=(e(3450),e(2373),e(137),e(440)),s=e(4367),l=e(1809),u=e(2748),i=function(n,t,e,a){function o(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,s){function l(n){try{i(a.next(n))}catch(t){s(t)}}function u(n){try{i(a["throw"](n))}catch(t){s(t)}}function i(n){n.done?e(n.value):o(n.value).then(l,u)}i((a=a.apply(n,t||[])).next())}))};const r=n=>((0,o.dD)("data-v-56179673"),n=n(),(0,o.Cn)(),n),c=r((()=>(0,o._)("span",{class:"tabs-tittle"},"新音乐",-1))),d=r((()=>(0,o._)("span",{class:"tabs-tittle"},"每日推荐",-1)));var f=(0,o.aZ)({__name:"recommend",setup(n){const t=(0,s.iH)("new"),e=(0,s.iH)([]),r=(0,s.iH)([]);return(0,o.bv)((()=>i(this,void 0,void 0,(function*(){e.value=yield(0,l.gg)(),(0,l.Jo)().then((n=>{r.value=n}))})))),(n,s)=>{const l=a.p8,i=a.Ub;return(0,o.wg)(),(0,o.j4)(i,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),class:"tabs"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{name:"new"},{label:(0,o.w5)((()=>[c])),default:(0,o.w5)((()=>[(0,o.Wm)(u.Z,{songs:e.value},null,8,["songs"])])),_:1}),(0,o.Wm)(l,{name:"daily"},{label:(0,o.w5)((()=>[d])),default:(0,o.w5)((()=>[r.value?((0,o.wg)(),(0,o.j4)(u.Z,{key:0,songs:r.value},null,8,["songs"])):(0,o.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])}}}),w=e(465);const m=(0,w.Z)(f,[["__scopeId","data-v-56179673"]]);var p=m}}]);